This directory includes files for URI utilities, as part of ds_tools.

It includes:
README.txt - This file
uri_utils.sql - SQL file defining the new types ("uri_type", "uri_array_type")
                and functions ("parse_uri", "extract_uri", "parse_domain")
uri_utils.c - C backend for uri_utils.sql
Makefile - Makefile to compile uri_utils.c into a shared object
uri_utils.so - Compiled shared object. (Not needed. Generated by Makefile.)
uri_utils_help.html - HTML help-file, documenting 'uri_utils.sql'.
test_uri_utils.sql - SQL unit test file for uri_utils.sql
test_result_compare.txt - The expected output from test_uri_utils.sql
                          (test_uri_utils.sql will also report on stderr on an
                          error if schema ds_tools is already defined and
                          related warning messages regarding types.)
test_uri_utils.bash - Bash file that compares outputs of test_uri_utils.sql with
                      test_result_compare.txt

Installation instructions:

1. uri_utils requires the open source library "uriparser". This library is
available from <http://uriparser.sourceforge.net>. It is licensed under the 
New BSD License. "uri_utils" was created with version 0.7.8 of uriparser.
Your first step is to download uriparser, compile it and install it.
You can install it to any directory you wish, as long as it is in the gcc
search path for shared objects, but I installed it on "/usr/local/lib".

2. The Makefile includes the instructions "-L/usr/local/lib -luriparser".
Depending on where and how you installed uriparser, you may want to change
this part.

3. Run "make" from the "uri_utils" library in order to create "uri_utils.so".

4. Install "uri_utils.so" where you deem appropriate. I simply left it where
I compiled it.

5. In the file "url_utils.sql" you will find two references to
"/home/gpadmin/michael/ds_tools/url/ver4/uri_utils.so". This was the path where
I put "uri_utils.so" (where I compiled it). You will need to edit these paths
to refer to where this shared object is in your system.

6. Go into SQL and run "\i uri_utils.sql".

7. You're good to go. You can test that all this worked by running
"\i test_uri_utils.sql".

8. Also, running "./test_uri_utils.bash" from the Unix prompt will run
"test_uri_utils.sql" for you and verify the correctness of the results.

9. All functions can be run without parameters for a usage message.
A full help page is available in "uri_utils_help.html".

ENJOY THE LIBRARY!
Michael Brand,
22 Aug 2013.
